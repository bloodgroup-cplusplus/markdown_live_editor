
    <html>
      <head><meta charset="UTF-8"><title>Markdown Preview</title></head>
      <body><hr>
<h2>slug: understanding-where-your-data-lives
title: Understanding Where Your Data Lives
readTime: 20 min
orderIndex: 1
premium: false</h2>
<h1><strong>Storage Fundamentals: Understanding Where Your Data Lives</strong></h1>
<p>Letâ€™s see what happens at every growing tech company.</p>
<p>Your startup is doing great. You've got 10,000 users, and they're uploading photos, videos, documentsâ€”everything. One morning, your CTO walks in and says: &quot;We're spending $50,000 a month on storage. Why is it so expensive? Can we fix this?&quot;</p>
<p>You look at the bill and realize: you've been storing everything the same way. Profile pictures from 2015 that nobody looks at? Same expensive, fast storage as today's viral videos. User documents? Same storage as your database that needs millisecond access times.</p>
<p>This is like storing your winter coat, your daily clothes, and your favorite t-shirt all in the same placeâ€”hanging in your closet. Sure, it works, but it's not optimal.</p>
<p>Today, youâ€™ll learn about about storageâ€”the different types, how they work, and most importantly, how to choose the right one for your data. By the end, you'll understand why some data belongs on $0.023/GB storage and other data needs $0.50/GB storage.</p>
<p>Let's dive in.</p>
<p>Actually before we dive we need to learn a few terms which</p>
<p>Will notoriously appear again and again in the explanations</p>
<p>i) AWS is Amazon Web Services is the Cloud Service Provided by Amazon</p>
<p>ii) Azure is Microsoftâ€™s Cloud Service</p>
<p>iii) GCP is Googleâ€™s Cloud Service (Google Cloud Service)</p>
<p>iv) We are also going to use lot of terms like EBS,EC2,S3,Glacier, EFS,CDN you can come back and refer to this photo whenever you get confused</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436769/53_o39gys.png" alt="img1"></p>
<hr>
<h2><strong>ğŸ“¦ Types of Storage: Block, File, and Object Storage</strong></h2>
<h3><strong>The Library Analogy</strong></h3>
<p>Imagine three different types of libraries, each organized completely differently:</p>
<p><strong>Library 1: The Block Storage Library</strong></p>
<p>The Warehouse:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Floor plan:
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚       001 â”‚ 002 â”‚ 003 â”‚ 004 â”‚ 005 â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ 006 â”‚ 007 â”‚ 008 â”‚ 009 â”‚ 010 â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ 011 â”‚ 012 â”‚ 013 â”‚ 014 â”‚ 015 â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜</p>
<p>Each box (block):</p>
<p>- Same size block  (512 bytes or 4KB)</p>
<p>- Just a number (no label)</p>
<p>- Can contain ANYTHING</p>
<p>Your book &quot;War and Peace&quot; is stored across:</p>
<p>- Blocks 003, 004, 005, 007, 009</p>
<p>- No one knows what's in each block</p>
<p>- You need a separate map to track which blocks belong to your book</p>
<p>This is BLOCK STORAGE.</p>
<p><strong>Library 2: The File Storage Library</strong></p>
<p>The Traditional Library:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Organization:</p>
<p>ğŸ“ Fiction/</p>
<pre><code>    ğŸ“ Tolstoy/

      ğŸ“„ War and Peace.txt

      ğŸ“„ Anna Karenina.txt

    ğŸ“ Hemingway/

      ğŸ“„ The Old Man and the Sea.txt
</code></pre>
<p>ğŸ“ Non-Fiction/</p>
<pre><code>    ğŸ“ History/

      ğŸ“„ World War II.pdf
</code></pre>
<p>Each item:</p>
<p>- Has a name</p>
<p>- Lives in a folder (directory)</p>
<p>- Organized hierarchically</p>
<p>You find your book by path:</p>
<p>/Fiction/Tolstoy/War and Peace.txt</p>
<p>This is FILE STORAGE.</p>
<p><strong>Library 3: The Object Storage Library</strong></p>
<p>The Amazon Warehouse:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Everything gets a unique ID:
ğŸ“¦ Item #7f8e9a2b3c4d</p>
<p>Content: &quot;War and Peace&quot; book</p>
<p>Tags:</p>
<pre><code> \- author: &quot;Tolstoy&quot;
 \- genre: &quot;fiction&quot;
 \- year: 1869
 \- language: &quot;English&quot;
 \- size: 1.2MB
</code></pre>
<p>Metadata: Last accessed, created date, etc.</p>
<p>No folders! Just objects with IDs and tags.
You search by tags or retrieve by ID.</p>
<p>This is OBJECT STORAGE.</p>
<h3><strong>Block Storage: The Raw Blocks</strong></h3>
<p><strong>What it actually is:</strong></p>
<p>Think of a Hard Drive:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Physical disk divided into blocks:</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436764/43_ru1dts.png" alt="img2"></p>
<p>Each block in a block storage has</p>
<p>-  Fixed size (usually 4KB)</p>
<p>- Addressable by number</p>
<p>- No built-in organization</p>
<p>- No metadata</p>
<p>It's like raw memory on disk!</p>
<p><strong>How data is stored:</strong></p>
<p>Example: Storing &quot;HELLO WORLD&quot; (11 bytes)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Operating system:</p>
<p>1. &quot;I need to write 11 bytes&quot;</p>
<p>2. &quot;Let me allocate blocks... I'll use block 42&quot;</p>
<p>3. Writes to block 42: &quot;HELLO WORLD&quot;</p>
<p>4. Remembers: &quot;This file uses block 42&quot;</p>
<p>The block itself doesn't know:</p>
<p>- What data it contains</p>
<p>- What file it belongs to</p>
<p>- Who owns it</p>
<p>The filesystem (ext4, NTFS, etc.) tracks all this!</p>
<p><strong>Real-World Usage:</strong></p>
<p>Perfect for:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Databases</p>
<p>Why: Need raw, fast access</p>
<p>Example:</p>
<p>- MySQL/PostgreSQL writing directly to blocks</p>
<p>- No filesystem overhead</p>
<p>- Can optimize exactly how data is laid out</p>
<p>2. Virtual Machine Disks</p>
<p>Why: VM needs to think it has a physical disk</p>
<p>Example:</p>
<p>- AWS EBS (Elastic Block Store)</p>
<p>- Your VM sees: &quot;I have a 100GB hard drive&quot;</p>
<p>- Actually: 100GB of blocks on AWS infrastructure</p>
<p>3. Boot Drives</p>
<p>Why: Operating system needs direct block access</p>
<p>Example:</p>
<p>- Your laptop's hard drive</p>
<p>- Server's boot volume</p>
<p>Examples in the Cloud:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>AWS EBS (Elastic Block Store provided by Amazon Cloud )</p>
<p>- Attach to EC2(AWSâ€™s computer) instance like a hard drive</p>
<p>- Appears as /dev/xvda</p>
<p>- Use it just like a physical disk</p>
<p>Azure Managed Disks (Microsoft Cloud)</p>
<p>- It is similar concept to AWS EB2</p>
<p>- Attach to VMs</p>
<p>Google Persistent Disks</p>
<p>- Block storage for Compute Engine</p>
<p><strong>The Performance Characteristics:</strong></p>
<p>Block Storage Performance:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Speed: VERY FAST âš¡</p>
<p>- Direct access to blocks</p>
<p>- Low latency (~1ms)</p>
<p>- High IOPS (Input/Output Operations Per Second)</p>
<p>Use case example:</p>
<p>Database write:</p>
<p>&quot;Write 4KB to block 12345&quot;</p>
<p>- Direct operation: 1ms</p>
<p>- No filesystem traversal</p>
<p>- No metadata lookup</p>
<p>Perfect for: Applications needing speed</p>
<p>Cost: More expensive (you're paying for performance)</p>
<h3><strong>File Storage: The Familiar Filesystem</strong></h3>
<p><strong>What it actually is:</strong></p>
<p>Your Computer's Files:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>| C:\Users\YourName\</p>
<pre><code>        â”€â”€ Documents
        â”œâ”€â”€ Resume.pdf
        â”œâ”€â”€ Cover Letter.docx

        â”€â”€Tax 2024
          â”œâ”€â”€ W2.pdf
          â””â”€â”€ 1099.pdf
        ---Pictures
          â”€â”€ Vacation 2024
          â”€â”€ Birthday Party
      â”€â”€ Videos
</code></pre>
<p>This is file storage!</p>
<p>- Hierarchical in nature (folders in folders)</p>
<p>- Each file has a path</p>
<p>- Familiar and intuitive</p>
<p><strong>How it works under the hood:</strong></p>
<p>When you save &quot;Resume.pdf&quot;:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Filesystem creates entry:</p>
<p>/Users/YourName/Documents/Resume.pdf</p>
<p>2. Stores metadata:</p>
<table>
<thead>
<tr>
<th style="text-align:left">- Size: 245KB   - Created: 2025-10-19   - Modified: 2025-10-19   - Permissions: Read/Write   - Owner: YourName</th>
</tr>
</thead>
</table>
<p>3. Allocates blocks (under the hood!):</p>
<p>- Uses block storage beneath</p>
<p>- File uses blocks: 100, 101, 102, 103</p>
<p>4. Updates directory structure:
/Documents/ now contains &quot;Resume.pdf&quot;</p>
<p>The filesystem manages the complexity!</p>
<p><strong>Real-World Usage:</strong></p>
<p>Perfect for:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Shared File Systems</p>
<p>Why: Multiple servers need to access same files</p>
<p>Example:</p>
<p>- Company shared drive</p>
<p>- Web servers accessing same static files</p>
<p>- Media files accessed by multiple apps</p>
<p>2. Application Data</p>
<p>Why: Apps expect filesystem semantics</p>
<p>Example:</p>
<p>- Log files: /var/log/app.log</p>
<p>- Config files: /etc/config.yaml</p>
<p>- Static assets: /public/images/</p>
<p>3. User Home Directories</p>
<p>Why: Natural organization</p>
<p>Example:</p>
<p>- Each user has /home/username/</p>
<p>- Familiar folder structure</p>
<p>Examples in the Cloud:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>AWS EFS (Elastic File System)</p>
<p>- Network file system (NFS)</p>
<p>- Multiple EC2 instances can mount it</p>
<p>- Appears like a regular directory</p>
<p>Azure Files</p>
<p>- SMB file shares in the cloud</p>
<p>- Windows-style file sharing</p>
<p>Google Filestore
- Managed NFS for Compute Engine</p>
<p><strong>Network File Storage Example:</strong></p>
<p>Multiple Web Servers Sharing Files:</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436767/52_xifyn5.png" alt="img3"></p>
<p>All servers see same files!
Update index.html once â†’ All servers see the change</p>
<p>Use case:
- Static website assets</p>
<p>- Uploaded user content</p>
<p>- Shared configuration files</p>
<p>Benefit:</p>
<p>âœ“ No need to sync files between servers</p>
<p>âœ“ Central management</p>
<p>âœ“ Familiar filesystem operations</p>
<p>Code example:</p>
<pre><code class="language-js">// Server 1: Write File
 import fs from &quot;fs&quot;
 const data = Buffer.from(&quot;xyz.png&quot;)
 fs.writeFile('/var/www/html/images/new-photo.jpg', data);
 if (err) {
    console.error(&quot;Error writing file;&quot;,err);
 } else {
    console.log(&quot;Server 1 :File written successfully!&quot;);
 }
 })

// Server 2 (immediately sees it\!)
 import fs from &quot;fs&quot;
 file=fs.readFile('/var/www/html/images/new-photo.jpg');
 if (err) {
   console.error(&quot;Error reading file&quot;,err)
 } else {
   console.log(File read in , file)
 }

</code></pre>
<h2><strong>ğŸ’¾ Memory vs Disk: The Speed Hierarchy</strong></h2>
<h3><strong>The Kitchen Analogy</strong></h3>
<p>We have already introduced this concept in the earlier section here is a bit detailed and elaborated part of the same concept</p>
<p>Letâ€™s compare computer storage with something familiar: cooking in a kitchen.</p>
<p>Your Kitchen Layout:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Level 1: Your Hands (analogous to the CPU Registers)</p>
<p>- Currently holding a knife and onion</p>
<p>- Instant access (nanoseconds)</p>
<p>- Very limited (2 items)</p>
<p>Level 2: Countertop ( like the RAM)</p>
<p>- Ingredients you're actively using</p>
<p>- Very fast access (microseconds)</p>
<p>- Limited space (16GB worth)</p>
<p>- Loses everything when power off (volatile!)</p>
<p>Level 3: Kitchen Cabinets (SSD)</p>
<p>- Ingredients you use today</p>
<p>- Fast access (milliseconds)</p>
<p>- More space (1TB worth)</p>
<p>- Keeps everything when power off (persistent!)</p>
<p>Level 4: Garage Storage (HDD)</p>
<p>- Bulk items, rarely used ingredients</p>
<p>- Slower access (seconds)</p>
<p>- Lots of space (10TB worth)</p>
<p>- Persistent storage</p>
<p>Level 5: Storage Unit (Cloud/Tape)</p>
<p>- Things you barely use</p>
<p>- Very slow access (minutes/hours)</p>
<p>- Massive space (unlimited)</p>
<p>- Persistent, archived</p>
<p>The Pattern:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Closer = Faster but Less Space</p>
<p>Farther = Slower but More Space</p>
<p>Remember the storage diagram we discussed on the first section (the fundamentals of computing)? Storage latency ranges from nanoseconds (RAM) to milliseconds (disk) to seconds (network storage). This affects EVERY operation in your system!</p>
<h3><strong>RAM (Random Access Memory): The Speed King</strong></h3>
<p><strong>What it actually is:</strong></p>
<p>Physical RAM Module:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436766/48_wtkdft.png" alt="img9"></p>
<p>Characteristics:
- Random access (any address in same time)
- Volatile (loses data when power off!)
- VERY fast
- Limited capacity</p>
<p><strong>Speed Demonstration:</strong></p>
<p>RAM Access Time:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Reading 1 byte from RAM: ~100 nanoseconds</p>
<p>How fast is that?</p>
<p>If RAM access was 1 second:
- SSD access: 16 minutes
- HDD access: 2 hours
- Internet request: 4 months!</p>
<p>Real numbers:
- RAM: 100 ns (0.0001 ms)
- SSD: 0.1 ms (1,000x slower)
- HDD: 10 ms (100,000x slower)</p>
<p><strong>Real-World Example:</strong></p>
<p><strong>Youâ€™ll learn more about database queries and caching in future lessons but if you write code you could refer to these snippets below</strong></p>
<pre><code class="language-js"> // Database Query Without Caching
const getUser = async (userId) =&gt; {
// Query database (on SSD)
  const user = await db.query('SELECT * FROM users WHERE id \= ?',(userId))
    return user;
  }
  // Time: 50ms (database query)
  //If called 1000 times:
  // It takes50 seconds
  // Database Query With RAM Caching
  const userCache = new Map();
  // In RAM
  const getUserCached = async (userId) =&gt; {
  // Check RAM first
  if (userCache.has(userId)) {
    return userCache.get(userId); // From RAM
    // Not in cache, query database
    const user = await db.query('SELECT * FROM users WHERE id \= ?',(userId)  );
    // Store in RAM for next time
    userCache.set(userId, user);
    return user;
    }

  // First call: 50ms (database)
  // Subsequent calls: 0.0001ms (RAM)
  // If called 1000 times: 50ms \+ (999 Ã— 0.0001ms) \= 50ms\!
  // 1000x faster\! âš¡

</code></pre>
<p><strong>The Volatility Problem:</strong></p>
<p>What Happens When Power is Lost:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>RAM (Volatile):
Power ON:  [Your data is here!]</p>
<p>Power OFF: [Everything GONE! âŒ]</p>
<p>Power ON:  [Empty RAM, no data]</p>
<p>Disk (Persistent):
Power ON:  [Your data is here!]</p>
<p>Power OFF: [Data stays on disk âœ“]</p>
<p>Power ON:  [Your data is still here! âœ“]</p>
<p>This is why:
- You can't store databases ONLY in RAM</p>
<p>- Cache can disappear on restart</p>
<p>- Need to persist important data to disk</p>
<p><strong>RAM Usage Patterns:</strong></p>
<p>What Goes in RAM:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Active Process Memory</p>
<p>- Running applications</p>
<p>- Operating system</p>
<p>- Currently executing code</p>
<p>2. Cache</p>
<p>- Database query results</p>
<p>- Frequently accessed data</p>
<p>- Session data</p>
<p>3. Buffers</p>
<p>- Data waiting to be written to disk</p>
<p>- Network packet buffers</p>
<p>4. File System Cache</p>
<p>- Recently accessed files</p>
<p>- OS caches file contents</p>
<p>Monitoring RAM:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<pre><code class="language-bash">| $ free -h
total        used        free      shared  buff/cache   availableMem:
16Gi       8.2Gi       2.1Gi       200Mi     5.7Gi       7.5Gi

Used: 8.2GB (your applications)

Free: 2.1GB (unused)

Buff/cache: 5.7GB (OS caching files)

Available: 7.5GB (can be freed if needed)
</code></pre>
<h3><strong>SSD (Solid State Drive): The Modern Standard</strong></h3>
<p><strong>What it actually is:</strong></p>
<p>How SSDs Work:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Flash Memory Cells:</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436766/49_psldow.png" alt="img10"></p>
<p>No moving parts!</p>
<p>- Electronic (like RAM)</p>
<p>- Persistent (like HDD)</p>
<p>- Fast (almost like RAM)</p>
<p>Best of both worlds!</p>
<p><strong>Speed Profile:</strong></p>
<p>SSD Performance:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Random Read: 0.1ms (fast!)</p>
<p>Sequential Read: 500 MB/s (very fast!)</p>
<p>Random Write: 0.1ms</p>
<p>Sequential Write: 450 MB/s</p>
<p>IOPS (Input/Output Operations Per Second):</p>
<p>Consumer SSD: 100,000 IOPS</p>
<p>Enterprise SSD: 500,000+ IOPS</p>
<p>This is why modern computers feel fast!</p>
<p><strong>Real-World Impact:</strong></p>
<p>Loading a Web Application:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>HDD System:</p>
<p>1. Boot OS: 60 seconds</p>
<p>2. Load browser: 20 seconds</p>
<p>3. Start app: 15 seconds</p>
<p>Total: 95 seconds ğŸ˜´</p>
<p>SSD System:</p>
<p>1. Boot OS: 10 seconds</p>
<p>2. Load browser: 2 seconds</p>
<p>3. Start app: 3 seconds</p>
<p>Total: 15 seconds âš¡</p>
<p>6x faster! This is why SSDs are standard now.</p>
<p><strong>Types of SSDs:</strong></p>
<p>SATA SSD (Consumer Grade):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Speed: 500 MB/s</p>
<p>Interface: SATA (same as old HDDs)</p>
<p>Cost: $0.10/GB</p>
<p>Use: Laptops, desktops</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436769/59_ietplb.png" alt="img11"></p>
<p>NVMe SSD (High Performance):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Speed: 3,500 MB/s (7x faster!)</p>
<p>Interface: PCIe (direct to CPU)</p>
<p>Cost: $0.15/GB</p>
<p>Use: Gaming PCs, servers, databases</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436769/61_rx1nnr.png" alt="img12"></p>
<p>Cloud SSD (AWS gp3):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Speed: 3,000 IOPS baseline</p>
<p>Cost: $0.08/GB/month + IOPS</p>
<p>Use: Production databases, VMs</p>
<h3><strong>HDD (Hard Disk Drive): The Legacy Workhorse</strong></h3>
<p><strong>What it actually is:</strong></p>
<p>Mechanical Hard Drive:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Physical Components:</p>
<pre><code>\[Spinning Platter\]

     â”‚  7,200 RPM

     â”‚

\[Read/Write Head\]

     â”‚  Moves across platter
</code></pre>
<p>Like a record player!</p>
<p><strong>Why HDDs are Slow:</strong></p>
<p>Lets look at the steps involved in reading data from HDD:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Step 1: Seek Time (5-10ms)
Move the read head to correct track</p>
<p>[Physical movement! Slow!]</p>
<p>Step 2: Rotational Latency (4ms average)
Wait for platter to spin to right position</p>
<p>[Mechanical! Must wait for rotation!]</p>
<p>Step 3: Transfer Time (0.1ms)
Actually read the data</p>
<p>[Finally! Data transfer!]</p>
<p>Total: ~10ms per operation</p>
<p>Compare to SSD: 0.1ms
HDD is 100x slower!</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762354300/32_yns27w.png" alt="img13"></p>
<p>Why Sequential is Better:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Random reads (jumping around):</p>
<p>- Read block 100: Seek (10ms) + Read</p>
<p>- Read block 5000: Seek (10ms) + Read</p>
<p>- Read block 200: Seek (10ms) + Read</p>
<p>Total: 30ms for 3 blocks</p>
<p>Sequential reads (consecutive):</p>
<p>- Read block 100: Seek (10ms) + Read</p>
<p>- Read block 101: No seek! + Read</p>
<p>- Read block 102: No seek! + Read</p>
<p>Total: 10ms for 3 blocks</p>
<p>3x faster when sequential!</p>
<p><strong>Where HDDs Still Make Sense:</strong></p>
<p>HDD Advantages:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Cost</p>
<p>HDD: $0.02/GB</p>
<p>SSD: $0.10/GB</p>
<p>5x cheaper!</p>
<p>2. Capacity</p>
<p>HDD: 20TB drives available</p>
<p>SSD: 8TB typical max</p>
<p>More space!</p>
<p>3. Longevity for Archives</p>
<p>HDD: Can last 10+ years sitting</p>
<p>SSD: Can lose data after years unpowered</p>
<p>Better for cold storage!</p>
<p>Good use cases:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>âœ“ Backups (sequential writes)</p>
<p>âœ“ Video surveillance (continuous write)</p>
<p>âœ“ Media archives (large files, rare access)</p>
<p>âœ“ Cold data storage</p>
<p>âœ“ Data warehouses (sequential scans)</p>
<p>Bad use cases:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>âŒ Databases (random access)</p>
<p>âŒ Operating system</p>
<p>âŒ Virtual machines</p>
<p>âŒ Active applications</p>
<p>âŒ Anything needing low latency</p>
<h3><strong>The Complete Storage Hierarchy</strong></h3>
<p>The Memory/Storage Pyramid (<strong>we saw similar diagram in our computer fundamentals section this is the detailed/extended diagram for the original diagram</strong>)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436766/46_pdclle.png" alt="img14"></p>
<hr>
<h2><strong>ğŸŒ¡ï¸ Hot vs Cold Data: The Temperature Model</strong></h2>
<h3><strong>The Closet Organization Analogy</strong></h3>
<p>Think about your closet:</p>
<p>Your Closet:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Front of Closet (Hot Data):</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436766/50_csiig8.png" alt="img15"></p>
<p>Back of Closet (Warm Data):
<img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436765/41_kxbxqo.png" alt="img16"></p>
<p>Storage Unit (Cold Data):</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436764/40_ptmfvp.png" alt="img17"></p>
<h3><strong>Defining Data Temperature</strong></h3>
<p><strong>Hot Data: The Active Zone</strong></p>
<p>What Makes Data &quot;Hot&quot;:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Characteristics:</p>
<p>âœ“Data that is  accessed frequently (daily/hourly)</p>
<p>âœ“ Data which is modified often</p>
<p>âœ“ Time-sensitive</p>
<p>âœ“ Business-critical</p>
<p>âœ“ Needs low latency</p>
<p>Examples:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. In the case of  E-commerce:</p>
<p>- Current product inventory</p>
<p>- Shopping cart contents</p>
<p>- Today's orders</p>
<p>- Active user sessions</p>
<p>2. Social Media:</p>
<p>- Recent posts (last 7 days)</p>
<p>- Current trending topics</p>
<p>- Active user profiles</p>
<p>- Real-time notifications</p>
<p>3. Banking:</p>
<p>- Current account balances</p>
<p>- Today's transactions</p>
<p>- Active credit card sessions</p>
<p>- Real-time fraud detection data</p>
<p>Storage Choice:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Ideal: RAM cache + SSD</p>
<p>Why: Need instant access</p>
<p>Cost: High ($0.10-0.50/GB/month)</p>
<p>Worth it: Users notice any delay!</p>
<p><strong>Warm Data: The Middle Ground</strong></p>
<p>What Makes Data &quot;Warm&quot;:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Characteristics:</p>
<p>âœ“ Accessed occasionally (weekly/monthly)</p>
<p>âœ“ Rarely modified</p>
<p>âœ“ Still relevant</p>
<p>âœ“ Not time-critical</p>
<p>âœ“ Can tolerate slight delay</p>
<p>Examples:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. E-commerce:</p>
<p>- Order history (last 90 days)</p>
<p>- Product reviews</p>
<p>- Customer support tickets (recent)</p>
<p>- Returns/refunds data</p>
<p>2. Social Media:</p>
<p>- Posts from last month</p>
<p>- User activity logs</p>
<p>- Analytics data</p>
<p>- Older notifications</p>
<p>3. Banking:</p>
<p>- Transaction history (3-6 months)</p>
<p>- Archived statements</p>
<p>- Historical account data</p>
<p>- Completed loan applications</p>
<p>Storage Choice:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Ideal: HDD or standard SSD</p>
<p>Why: To balance out cost and access</p>
<p>Cost: Moderate ($0.02-0.08/GB/month)</p>
<p>Worth it: Good enough performance</p>
<p><strong>Cold Data: The Archive</strong></p>
<p>What Makes Data &quot;Cold&quot;:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Characteristics:</p>
<p>âœ“ Rarely accessed (yearly or never)</p>
<p>âœ“ Never modified (immutable)</p>
<p>âœ“ Historical/compliance</p>
<p>âœ“ Can wait minutes/hours for access</p>
<p>âœ“ Needs to be kept (legal/audit)</p>
<p>Examples:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. E-commerce:</p>
<p>- Orders from 5 years ago</p>
<p>- Old product catalogs</p>
<p>- Deleted account backups</p>
<p>- Compliance audit logs</p>
<p>2. Social Media:</p>
<p>- Deleted posts (retention policy)</p>
<p>- User data snapshots</p>
<p>- System logs from years ago</p>
<p>- Legal discovery data</p>
<p>3. Banking:</p>
<p>- 7-year transaction history</p>
<p>- Closed account records</p>
<p>- Old audit reports</p>
<p>- Regulatory compliance archives</p>
<p>Storage Choice:</p>
<p>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Ideal storage: Glacier, tape, cold storage</p>
<p>Why:  Data is rarely accessed, needs to be cheap</p>
<p>Cost: Very low ($0.001-0.004/GB/month)</p>
<p>Worth it: 20x cheaper! Storage at scale!</p>
<h3><strong>Data Temperature Transitions</strong></h3>
<p>The Lifecycle of Data:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Day 1: HOT ğŸ”¥</p>
<p>â”œâ”€ User uploads photo</p>
<p>â”œâ”€ Stored in: SSD with RAM cache</p>
<p>â”œâ”€ Access: 1000+ times/day</p>
<p>â””â”€ Cost: $0.10/GB/month</p>
<p>Day 30: WARM ğŸŒ¤ï¸</p>
<p>â”œâ”€ Photo is 1 month old</p>
<p>â”œâ”€ Moved to: Standard storage</p>
<p>â”œâ”€ Access: 10 times/day</p>
<p>â””â”€ Cost: $0.03/GB/month</p>
<p>Day 365: COLD â„ï¸</p>
<p>â”œâ”€ Photo is 1 year old</p>
<p>â”œâ”€ Moved to: Glacier</p>
<p>â”œâ”€ Access: 1 time/year (if ever)</p>
<p>â””â”€ Cost: $0.004/GB/month</p>
<p>Day 2555: FROZEN ğŸ§Š</p>
<p>â”œâ”€ Photo is 7 years old</p>
<p>â”œâ”€ Moved to: Deep archive/tape</p>
<p>â”œâ”€ Access: Only if subpoenaed</p>
<p>â””â”€ Cost: $0.001/GB/month</p>
<p><strong>Real-World Example: Instagram</strong></p>
<p>Instagram Photo Storage Strategy:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>When you upload a photo to instagram
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Day 0-7: HOT ğŸ”¥</p>
<p>Location: CDN (remember Amazon Cloudfront from the diagram) + SSD cache</p>
<p>Why: 90% of views happen in first week</p>
<p>Access pattern: Thousands of views</p>
<p>Storage: Multiple copies in RAM/SSD</p>
<p>Cost per GB: $0.50/month</p>
<p>User experience: &lt;50ms load time</p>
<p>Week 2-Month 3: WARM ğŸŒ¤ï¸</p>
<p>Location: Standard S3 storage</p>
<p>Why: Occasional views from followers</p>
<p>Access pattern: Dozens of views</p>
<p>Storage: Standard redundancy</p>
<p>Cost per GB: $0.023/month</p>
<p>User experience: ~200ms load time</p>
<p>Month 4+: COLD â„ï¸</p>
<p>Location: S3 Intelligent-Tiering</p>
<p>Why: Rarely viewed old photos</p>
<p>Access pattern: A few views per month</p>
<p>Storage: Automatic tier adjustment</p>
<p>Cost per GB: $0.01/month</p>
<p>User experience: ~500ms first access</p>
<p>Year 2+: FROZEN ğŸ§Š</p>
<p>Location: Glacier Deep Archive</p>
<p>Why: Historical archive (almost never viewed)</p>
<p>Access pattern: Almost never</p>
<p>Storage: Tape backup, rare access</p>
<p>Cost per GB: $0.001/month</p>
<p>User experience: 12 hours to retrieve (if ever needed)</p>
<p>Instagram's savings:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1 billion photos uploaded/day</p>
<p>Average photo: 2MB</p>
<p>If ALL photos were to be  stored HOT:</p>
<p>- 2,000 TB uploaded daily</p>
<p>- 730,000 TB per year</p>
<p>- Cost: $365,000/day = $133M/year ğŸ˜±</p>
<p>With temperature-based storage:</p>
<p>- Recent (HOT): 14,000 TB Ã— $0.50 = $7,000/day</p>
<p>- Warm: 100,000 TB Ã— $0.023 = $2,300/day</p>
<p>- Cold: 616,000 TB Ã— $0.001 = $616/day</p>
<p>- Total: $10,000/day = $3.6M/year âœ“</p>
<p>Savings: $129M/year (97% reduction!)</p>
<p>ed on access patterns</p>
<h3><strong>The 80/20 Rule in Storage</strong></h3>
<p>Pareto Principle for Data:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Observation:</p>
<p>- 20% of your data gets 80% of the access</p>
<p>- 80% of your data gets 20% of the access</p>
<p>Translation:</p>
<p>- Keep 20% (hot) on expensive fast storage</p>
<p>- Keep 80% (cold) on cheap slow storage</p>
<p>Real Numbers:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Total data: 100 TB</p>
<p>Naive approach (all hot storage):</p>
<p>- 100 TB Ã— $0.10/GB = $10,000/month</p>
<p>Optimized approach:</p>
<p>- 20 TB hot Ã— $0.10/GB = $2,000/month</p>
<p>- 80 TB cold Ã— $0.01/GB = $800/month</p>
<p>- Total: $2,800/month</p>
<p>Savings: $7,200/month (72% reduction!)</p>
<p>Same user experience for 99% of requests!</p>
<h3><strong>Decision Framework: Choosing Storage Temperature</strong></h3>
<p>Decision Tree:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Question 1: How often is it accessed?</p>
<p>â”œâ”€ Multiple times/day â†’ HOT ğŸ”¥</p>
<p>â”œâ”€ Weekly/Monthly â†’ WARM ğŸŒ¤ï¸</p>
<p>â””â”€ Yearly or less â†’ COLD â„ï¸</p>
<p>Question 2: How fast must it load?</p>
<p>â”œâ”€ &lt;100ms â†’ HOT (SSD + cache)</p>
<p>â”œâ”€ &lt;1s â†’ WARM (Standard storage)</p>
<p>â””â”€ Minutes OK â†’ COLD (Archive)</p>
<p>Question 3: Is it modified?</p>
<p>â”œâ”€ Yes, frequently â†’ HOT</p>
<p>â”œâ”€ Occasionally â†’ WARM</p>
<p>â””â”€ Never (immutable) â†’ COLD</p>
<p>Question 4: How critical is it?</p>
<p>â”œâ”€ Business-critical â†’ HOT</p>
<p>â”œâ”€ Important â†’ WARM</p>
<p>â””â”€ Archive/compliance â†’ COLD</p>
<p>Question 5: How much does latency cost?</p>
<p>â”œâ”€ $10/second delay â†’ HOT</p>
<p>â”œâ”€ $1/second delay â†’ WARM</p>
<p>â””â”€ Doesn't matter â†’ COLD</p>
<h3><strong>Real-World Case Studies</strong></h3>
<p><strong>Case Study 1: Netflix</strong></p>
<p>Netflix Content Storage:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>HOT ğŸ”¥ (10% of catalog, 90% of views):</p>
<p>â”œâ”€ New releases</p>
<p>â”œâ”€ Trending shows</p>
<p>â”œâ”€ Popular movies</p>
<p>â”œâ”€ Storage: CDN edge servers (SSD)</p>
<p>â”œâ”€ Latency: &lt;50ms</p>
<p>â””â”€ Cost: High, but worth it</p>
<p>WARM ğŸŒ¤ï¸ (40% of catalog, 9% of views):
â”œâ”€ Recently popular shows</p>
<p>â”œâ”€ Catalog titles</p>
<p>â”œâ”€ Regional favorites</p>
<p>â”œâ”€ Storage: Regional data centers</p>
<p>â”œâ”€ Latency: ~200ms</p>
<p>â””â”€ Cost: Moderate</p>
<p>COLD â„ï¸ (50% of catalog, 1% of views):</p>
<p>â”œâ”€ Old seasons</p>
<p>â”œâ”€ Niche documentaries</p>
<p>â”œâ”€ Foreign language content</p>
<p>â”œâ”€ Storage: Central S3</p>
<p>â”œâ”€ Latency: ~1s (if not cached)</p>
<p>â””â”€ Cost: Very low</p>
<p>Result:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- 90% of user requests: &lt;50ms (great UX!)</p>
<p>- Storage costs: 70% lower than all-hot</p>
<p>- Users don't notice cold storage delays</p>
<p><strong>Case Study 2: Healthcare Records</strong></p>
<p>Patient Medical Records:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>HOT ğŸ”¥ (Active patients):</p>
<p>â”œâ”€ Current patient records</p>
<p>â”œâ”€ Recent lab results</p>
<p>â”œâ”€ Today's appointments</p>
<p>â”œâ”€ Active prescriptions</p>
<p>â”œâ”€ Storage: SSD database</p>
<p>â”œâ”€ Access: Doctors need instant access</p>
<p>â””â”€ Retention: 90 days hot</p>
<p>WARM ğŸŒ¤ï¸ (Recent history):</p>
<p>â”œâ”€ Last year's visits</p>
<p>â”œâ”€ Historical lab results</p>
<p>â”œâ”€ Imaging from past 2 years</p>
<p>â”œâ”€ Storage: Standard S3</p>
<p>â”œâ”€ Access: Occasional review</p>
<p>â””â”€ Retention: 2 years warm</p>
<p>COLD â„ï¸ (Archives):</p>
<p>â”œâ”€ 7-year history (legal requirement)</p>
<p>â”œâ”€ Old x-rays and scans</p>
<p>â”œâ”€ Closed patient records</p>
<p>â”œâ”€ Storage: Glacier</p>
<p>â”œâ”€ Access: Legal/audit only</p>
<p>â””â”€ Retention: 7+ years</p>
<p>Compliance:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ HIPAA requires 7-year retention</p>
<p>âœ“ Must be retrievable (but can be slow)</p>
<p>âœ“ Cold storage meets legal requirements</p>
<p>âœ“ Massive cost savings</p>
<p>Savings: $500k/year for mid-size hospital</p>
<hr>
<h2><strong>ğŸ“ Putting It All Together: Complete Storage Architecture</strong></h2>
<p>Letâ€™s see data storage patterns in  a real production system:</p>
<p>Social Media Platform - Complete Storage Design:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>Layer 1: Cache (HOT ğŸ”¥)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[Redis Cluster]</p>
<p>- Type: RAM</p>
<p>- Size: 100 GB</p>
<p>- Latency: 0.1ms</p>
<p>- Data:</p>
<p>âœ“ User sessions</p>
<p>âœ“ Feed cache (recent posts)</p>
<p>âœ“ Trending topics</p>
<p>âœ“ Active user profiles</p>
<p>- TTL: 1-24 hours</p>
<p>- Cost: $500/month</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436766/44_lgyzvx.png" alt="img18"></p>
<p>Layer 2: Primary Database (HOT ğŸ”¥)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[PostgreSQL on NVMe SSD]</p>
<p>- Type: Block Storage (EBS)</p>
<p>- Size: 2 TB</p>
<p>- Latency: 1ms</p>
<p>- Data:</p>
<p>âœ“ User accounts</p>
<p>âœ“ Current posts (30 days)</p>
<p>âœ“ Active comments</p>
<p>âœ“ Real-time analytics</p>
<p>- Backup: Hourly</p>
<p>- Cost: $400/month</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436769/60_xzhrob.png" alt="img19"></p>
<p>Layer 3: Media Storage - Recent (HOT ğŸ”¥)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[S3 Standard + CloudFront CDN]</p>
<p>- Type: Object Storage</p>
<p>- Size: 50 TB</p>
<p>- Latency: 50ms (CDN) / 200ms (S3)</p>
<p>- Data:</p>
<p>âœ“ Photos from last 30 days</p>
<p>âœ“ Videos uploaded recently</p>
<p>âœ“ Profile pictures (active users)</p>
<p>- Lifecycle: Move to warm after 30 days</p>
<p>- Cost: $1,150/month</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436768/56_xuced2.png" alt="img20"></p>
<p>Layer 4: Media Storage - Historical (WARM ğŸŒ¤ï¸)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[S3 Infrequent Access]</p>
<p>- Type: Object Storage</p>
<p>- Size: 200 TB</p>
<p>- Latency:300ms</p>
<p>- Data:</p>
<p>âœ“ Photos 30-365 days old</p>
<p>âœ“ Older videos</p>
<p>âœ“ Historical user content</p>
<p>- Lifecycle:
Move to cold after 1 year</p>
<p>- Cost: $2000/month (for 200TB)</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762436764/42_uz7dol.png" alt="img21">
Layer 5: Analytics Data (WARM ğŸŒ¤ï¸) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[Data Warehouse on HDD]</p>
<p>- Type: File Storage / Block Storage</p>
<p>- Size: 100 TB</p>
<p>- Latency: 10ms</p>
<p>- Data:</p>
<p>âœ“ User behavior logs</p>
<p>âœ“ Engagement metrics</p>
<p>âœ“ A/B test results</p>
<p>âœ“ Business intelligence data</p>
<p>- Access: Batch queries, reports</p>
<p>- Cost: $800/month</p>
<p>Layer 6: Archives (COLD â„ï¸)</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762440179/57_ir8cpn.png" alt="img22"></p>
<p>[S3 Glacier]</p>
<p>- Type: Object Storage (Archive)</p>
<p>- Size: 500 TB</p>
<p>- Latency: 5 hours</p>
<p>- Data:</p>
<p>âœ“ Old posts (1+ year)</p>
<p>âœ“ Deleted account backups</p>
<p>âœ“ Audit logs</p>
<p>âœ“ Compliance data</p>
<p>- Lifecycle: Keep for 7 years</p>
<p>- Cost: $2,000/month</p>
<p>Layer 7: Deep Archive (FROZEN ğŸ§Š)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>[S3 Glacier Deep Archive]</p>
<p>- Type: Object Storage (Tape-equivalent)</p>
<p>- Size: 1 PB (1000 TB)</p>
<p>- Latency: 12-48 hours</p>
<p>- Data:</p>
<p>âœ“ Legal discovery data</p>
<p>âœ“ Historical system logs</p>
<p>âœ“ Old database backups</p>
<p>âœ“ Long-term archives</p>
<p>- Retention: Permanent
- Cost: $1,000/month</p>
<p>Total Storage: 1,853 TB</p>
<p>Total Cost: $7,850/month</p>
<p>If everything was HOT storage:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1,853 TB Ã— $0.10/GB = $185,300/month ğŸ˜±</p>
<p>Actual cost: $7,850/month âœ“
Savings: $177,450/month (96% reduction!)</p>
<p><strong>The Request Flow:</strong></p>
<p>User Views a Post:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</p>
<p>1. Check Redis (Layer 1):</p>
<p>&quot;Is this post cached?&quot;</p>
<p>Hit: Return in 0.1ms âš¡ [95% of requests end here!]</p>
<p>Miss: Continue...</p>
<p>2. Check PostgreSQL (Layer 2):</p>
<p>&quot;Query post from database&quot;</p>
<p>Found: Return in 5ms âœ“ [4% of requests]</p>
<p>Not found: Continue...</p>
<p>3. Check S3 Standard (Layer 3):</p>
<p>&quot;Fetch from recent media storage&quot;</p>
<p>Found: Return in 200ms âœ“ [0.9% of requests]</p>
<p>Not found: Continue...</p>
<p>4. Check S3 IA (Layer 4):</p>
<p>&quot;Fetch from historical storage&quot;</p>
<p>Found: Return in 300ms âœ“ [0.09% of requests]</p>
<p>Not found: Continue...</p>
<p>5. Check Glacier (Layer 6):</p>
<p>&quot;Initiate restore (5 hours)&quot;</p>
<p>Found: User gets &quot;This post is being retrieved&quot; [0.01% of requests]</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1762440474/final_ziwy35.png" alt="img23"></p>
<p>Result:</p>
<p>- 95% of users: &lt;1ms (instant!)</p>
<p>- 4% of users: &lt;10ms (very fast)</p>
<p>- 0.99% of users: &lt;300ms (acceptable)</p>
<p>- 0.01% of users: Wait for archive restore (rare!)</p>
<hr>
<h2><strong>âœ… Final Mastery Checklist</strong></h2>
<p>You've mastered storage fundamentals if you can:</p>
<p><strong>Types of Storage:</strong></p>
<ul>
<li>[ ] Explain block vs file vs object storage</li>
<li>[ ] Choose the right storage type for a use case</li>
<li>[ ] Understand the tradeoffs of each</li>
</ul>
<p><strong>Memory vs Disk:</strong></p>
<ul>
<li>[ ] Describe the storage hierarchy from CPU to cloud</li>
<li>[ ] Explain volatile vs persistent storage</li>
<li>[ ] Calculate cost/performance tradeoffs</li>
</ul>
<p><strong>Hot vs Cold Data:</strong></p>
<ul>
<li>[ ] Identify data temperature based on access patterns</li>
<li>[ ] Design lifecycle policies for data</li>
<li>[ ] Calculate storage cost optimizations</li>
</ul>
<hr>
<h2><strong>ğŸš€ Interview-Ready Summary</strong></h2>
<p><strong>Key Takeaways:</strong></p>
<ol>
<li><strong>Storage types serve different purposes</strong> - Block for performance, File for sharing, Object for scale</li>
<li><strong>Speed costs money</strong> - RAM is 1000x faster but 100x more expensive than disk</li>
<li><strong>Data has temperature</strong> - Most data is cold, optimize accordingly</li>
<li><strong>The 80/20 rule</strong> - 20% of data gets 80% of access</li>
<li><strong>Lifecycle management</strong> - Automatically move data based on age/access</li>
</ol>
<p><strong>When asked &quot;How would you design storage for this system?&quot;</strong></p>
<p>Answer framework:</p>
<ol>
<li>&quot;First, I'd identify the hot data that needs fast access...&quot;
<ul>
<li>User sessions â†’ RAM cache</li>
<li>Active records â†’ SSD database</li>
</ul>
</li>
<li>&quot;Then categorize data by access patterns...&quot;
<ul>
<li>Daily access â†’ Hot (SSD + cache)</li>
<li>Weekly/monthly â†’ Warm (Standard storage)</li>
<li>Yearly/never â†’ Cold (Archive)</li>
</ul>
</li>
<li>&quot;Choose appropriate storage types...&quot;
<ul>
<li>Database â†’ Block storage</li>
<li>Shared files â†’ File storage</li>
<li>Media/backups â†’ Object storage</li>
</ul>
</li>
<li>&quot;Implement lifecycle policies...&quot;
<ul>
<li>Auto-transition based on age</li>
<li>Monitor access patterns</li>
<li>Optimize costs continuously</li>
</ul>
</li>
<li>&quot;Calculate cost savings...&quot;
<ul>
<li>All hot: $X/month</li>
<li>Tiered: $Y/month</li>
<li>Savings: $(X-Y)/month</li>
</ul>
</li>
</ol>
<p><strong>Common Interview Questions:</strong></p>
<p>Q: &quot;Why not put everything in RAM?&quot; A: &quot;RAM is volatile (loses data on restart) and expensive. We need persistent storage for data, but use RAM for caching hot data.&quot;</p>
<p>Q: &quot;When would you use object storage vs file storage?&quot; A: &quot;Object storage for static assets, backups, and unstructured data at scale. File storage when you need hierarchical organization or multiple servers sharing files.&quot;</p>
<p>Q: &quot;How would you optimize storage costs?&quot; A: &quot;Implement data lifecycle policies, cache hot data in RAM/SSD, move warm data to standard storage, archive cold data, and delete expired data. Use the 80/20 ruleâ€”keep 20% hot, 80% cold.&quot;</p>
<p><strong>You're now ready to design production storage systems!</strong> ğŸ‰</p>
<p>Remember: The best storage architecture isn't the fastest or the cheapestâ€”it's the one that matches your access patterns. Fast where it matters, cheap where it doesn't.</p>
<p>Keep practicing by analyzing storage in systems you use daily. Ask yourself: &quot;Why did they choose this storage solution?&quot; That's how you develop storage intuition!</p>
</body>
    </html>