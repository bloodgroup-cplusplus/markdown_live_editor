
    <html>
      <head><meta charset="UTF-8"><title>Markdown Preview</title></head>
      <body><h2><strong>ACID Properties - The Four Pillars of Database Reliability</strong></h2>
<h3><strong>üéØ Challenge 2: The Bank Transfer Mystery</strong></h3>
<p><strong>Scenario:</strong> You transfer $100 from your account to your friend's account. Mid-transfer, the database server crashes!</p>
<p><strong>What should happen to prevent disaster?</strong> A. $100 disappears from both accounts (lost money!) B. $100 removed from your account but never added to friend's (you lose $100!) C. $100 added to friend's account but not removed from yours (free money!) D. The entire transfer is cancelled, and both accounts return to original state</p>
<p><strong>Think carefully...</strong> What protects users from database failures?</p>
<h3><strong>The Answer: ACID Properties Ensure Option D!</strong></h3>
<p>ACID is like a safety net for critical operations. Let's break down each letter:</p>
<hr>
<h3>A is for ATOMICITY: All or Nothing</h3>
<p><strong>Real-world parallel:</strong> Imagine buying a TV online:</p>
<p><strong>Without Atomicity (Disaster!):</strong></p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1764423456/204_sajvm7.png" alt="img1"></p>
<p>Result: You paid, TV is reserved, but the system thinks it's still in stock. Chaos!! Isn‚Äôt it?</p>
<p><strong>With Atomicity (Protected!):</strong></p>
<p>Transaction begins:</p>
<p>Step 1: Charge credit card</p>
<p>Step 2: Reserve TV</p>
<p>Step 3: Update inventory</p>
<p>IF all steps succeed ‚Üí COMMIT (make it permanent)</p>
<p>IF any step fails ‚Üí ROLLBACK (undo everything)</p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1764423455/203_rhkdrw.png" alt="img2"></p>
<p><strong>The bank transfer example:</strong></p>
<pre><code class="language-sql"> BEGIN TRANSACTION;

UPDATE accounts SET balance = balance - 100 WHERE user = 'you';  UPDATE accounts SET balance = balance + 100 WHERE user = 'friend';COMMIT;
</code></pre>
<p><strong>If crash happens mid-transaction:</strong> Database automatically rolls back BOTH updates. Your $100 stays in your account, friend gets nothing. No money lost or duplicated!</p>
<p><strong>Mental model:</strong> Atomicity is like a light switch - it's either completely ON or completely OFF. There's no half-lit room. A transaction is either fully completed or fully cancelled.</p>
<p><strong>Key insight:</strong> Atomicity prevents partial operations that would leave data in an inconsistent state!</p>
<hr>
<h3>C is for CONSISTENCY: Rules Must Be Followed</h3>
<p><strong>Real-world parallel:</strong> Imagine a university enrollment system with a rule: &quot;No student can be enrolled in more than 5 courses.&quot;</p>
<p><strong>Without Consistency (Rule Breaking!):</strong></p>
<p>Student already has 5 courses</p>
<p>System tries to add 6th course ‚Üí ‚úì ALLOWED</p>
<p>Rule violated! Student overloaded!</p>
<p><strong>With Consistency (Rules Enforced!):</strong></p>
<p>Student already has 5 courses</p>
<p>System tries to add 6th course ‚Üí ‚úó REJECTED</p>
<p>Error: &quot;Student cannot exceed 5 courses&quot;</p>
<p>Student stays at 5 courses ‚úì</p>
<p><strong>Database rules (constraints):</strong></p>
<ul>
<li>
<p>Primary keys must be unique (we will learn about primary and foreign keys in upcoming sections)</p>
</li>
<li>
<p>Foreign keys must reference existing records</p>
</li>
<li>
<p>Balance cannot go negative</p>
</li>
<li>
<p>Age must be a positive number</p>
</li>
<li>
<p>Email must be unique</p>
</li>
</ul>
<p><strong>Example with bank accounts:</strong></p>
<p>Rule: Balance cannot go negative</p>
<pre><code class="language-sql">
UPDATE accounts SET balance = balance - 1000 WHERE user = 'alice' AND balance = 500;

</code></pre>
<p>-- Database says NO! This would make balance = -500
Transaction REJECTED to maintain consistency</p>
<p><strong>Mental model:</strong> Consistency is like a bouncer at a club checking IDs. If you don't meet the requirements (rules), you're not getting in! The database is the bouncer ensuring all rules are followed.</p>
<p><strong>Key insight:</strong> Consistency ensures the database moves from one valid state to another valid state, never breaking its own rules!</p>
<hr>
<h3>I is for ISOLATION: No Interference**</h3>
<p><strong>The Coffee Shop Problem:</strong></p>
<p><strong>Scenario:</strong> You and your friend both try to buy the last croissant at the same time.</p>
<p><strong>Without Isolation (Disaster!):</strong></p>
<p>You:              Check stock ‚Üí 1 croissant available ‚úì</p>
<p>Friend:           Check stock ‚Üí 1 croissant available ‚úì</p>
<p>You:              Buy it! ‚Üí Success (stock = 0)</p>
<p>Friend:           Buy it! ‚Üí Success (stock = -1) üò±</p>
<p>Result: Two people bought one croissant! Negative inventory!</p>
<p><strong>With Isolation (Protected!):</strong></p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1764423456/205_n5q96c.png" alt="img3"></p>
<p><strong>Database example - Concert ticket sales:</strong></p>
<p>User A and User B try to buy the last ticket simultaneously</p>
<p>User A:BEGIN TRANSACTION;</p>
<pre><code class="language-sql">SELECT seats_remaining FROM events WHERE event_id = 123;
</code></pre>
<p>Returns: 1 seat</p>
<p>Database LOCKS this row</p>
<pre><code class="language-sql">UPDATE events SET seats_remaining = 0 WHERE event_id = 123;
COMMIT;
</code></pre>
<p>User B
(tries at the same time)</p>
<pre><code class="language-sql">BEGIN TRANSACTION;  SELECT seats remaining FROM events WHERE event_id = 123;
</code></pre>
<p>Must WAIT for User A's transaction to complete</p>
<p>After A commits,</p>
<p>B sees: 0 seats</p>
<p>B's purchase fails ‚úì</p>
<p><strong>Isolation Levels (How strict is the isolation?):</strong></p>
<p><strong>Read Uncommitted</strong> (Least strict)</p>
<ul>
<li>Can see changes from other transactions before they commit</li>
<li>Like reading someone's draft email while they're still writing it</li>
<li>Fast but risky!</li>
</ul>
<p><strong>Read Committed</strong> (Common default)</p>
<ul>
<li>Can only see changes after other transactions commit</li>
<li>Like only reading sent emails, not drafts</li>
<li>Good balance</li>
</ul>
<p><strong>Repeatable Read</strong></p>
<ul>
<li>Same query always returns same data during your transaction</li>
<li>Like reading a frozen snapshot</li>
<li>Very safe</li>
</ul>
<p><strong>Serializable</strong> (Most strict)</p>
<ul>
<li>Transactions run as if they were completely alone</li>
<li>Like having exclusive access to the database</li>
<li>Slowest but safest</li>
</ul>
<p><strong>Mental model:</strong> Isolation is like phone booth conversations - you don't want two conversations interfering with each other! Each transaction gets its own &quot;booth&quot; to work in.</p>
<p><strong>Key insight:</strong> Isolation prevents concurrent transactions from interfering with each other and causing data corruption!</p>
<hr>
<h3><strong>üÖ≥ D is for DURABILITY: Permanent and Safe</strong></h3>
<p><strong>The Power Outage Scenario:</strong></p>
<p><strong>You just transferred $1,000 and got confirmation: &quot;Transfer successful!&quot;</strong></p>
<p><strong>Suddenly:</strong> ‚ö° Power outage! Server crashes! üí•</p>
<p><strong>Question:</strong> Is your transfer saved or lost?</p>
<p><strong>Without Durability (Nightmare!):</strong></p>
<p>Transaction completed ‚Üí &quot;Success&quot; shown
System crashes before writing to disk
Data stored only in RAM ‚Üí LOST!
You restart ‚Üí Transfer never happened üò±</p>
<p><strong>With Durability (Protected!):</strong></p>
<p>Transaction completed ‚Üí IMMEDIATELY written to disk
Multiple copies stored (redundancy)
Even if system crashes ‚Üí Data is PERMANENT
You restart ‚Üí Transfer is there ‚úì</p>
<p><strong>How databases ensure durability:</strong></p>
<p><strong>Write-Ahead Logging (WAL):</strong></p>
<p><img src="https://res.cloudinary.com/dretwg3dy/image/upload/v1764423455/202_hxrf0y.png" alt="img4"></p>
<p><strong>Mental model:</strong> Durability is like signing a legal contract. Once it's signed and filed, even if the building burns down, the contract exists (because copies are stored safely). Your database transaction is the same!</p>
<p><strong>Real-world parallel:</strong> Think of saving a document:</p>
<ul>
<li><strong>Without Durability:</strong> &quot;Saved!&quot; but only in RAM. Crash = lost work üò¢</li>
<li><strong>With Durability:</strong> &quot;Saved!&quot; and immediately written to hard drive. Crash = work is safe ‚úì</li>
</ul>
<p><strong>Key insight:</strong> Durability guarantees that once a transaction is committed, it's permanent - even if power fails, servers crash, or disasters strike!</p>
<hr>
<h3><strong>üé™ ACID Together: The Complete Safety System</strong></h3>
<p><strong>The bank transfer example with ALL ACID properties:</strong></p>
<p>Transfer $100 from Alice to Bob:</p>
<p>üÖ∞Ô∏è ATOMICITY:
Both updates happen or neither happens</p>
<p>üÖ≤ CONSISTENCY:
Alice must have $100 (can't go negative)
Total money in system stays the same</p>
<p>I ISOLATION:
If Carol also transfers to Bob simultaneously,
transactions don't interfere with each other</p>
<p>üÖ≥ DURABILITY:
Once confirmed, transfer is permanent
even if server crashes immediately after</p>
<p>Protected by:</p>
<p>‚úì All-or-nothing execution</p>
<p>‚úì Rules enforced (balances valid)</p>
<p>‚úì No interference from other transfers</p>
<p>‚úì Permanent once confirmed</p>
<hr>
<h3><strong>üí° Challenge: ACID or Not ACID?</strong></h3>
<p><strong>Scenario 1:</strong> Social media &quot;likes&quot; counter</p>
<ul>
<li>Thousands of people like simultaneously</li>
<li>Occasional miscount of +/- 1 is acceptable</li>
<li>Speed is critical</li>
</ul>
<p><strong>ACID needed?</strong> ü§î</p>
<p><strong>Answer:</strong> NO!</p>
<ul>
<li>Eventual consistency is fine</li>
<li>NoSQL databases often trade ACID for speed/scale</li>
<li>Called &quot;BASE&quot; properties (Basically Available, Soft state, Eventually consistent)</li>
</ul>
<hr>
<p><strong>Scenario 2:</strong> Medical prescription system</p>
<ul>
<li>Doctor prescribes medication</li>
<li>Must update patient record AND pharmacy inventory</li>
<li>No room for error</li>
</ul>
<p><strong>ACID needed?</strong> ü§î</p>
<p><strong>Answer:</strong> YES! ‚úì</p>
<ul>
<li>Patient safety depends on accuracy</li>
<li>Both updates must succeed or fail together</li>
<li>Need full ACID guarantees</li>
</ul>
<hr>
</body>
    </html>