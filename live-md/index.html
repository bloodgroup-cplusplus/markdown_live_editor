
    <html>
      <head><meta charset="UTF-8"><title>Markdown Preview</title></head>
      <body><h1><strong>Back of the Envelope Calculations - The Estimation Game</strong></h1>
<h3><strong>ğŸ¯ Challenge 2: The Impossible Interview Question</strong></h3>
<p><strong>Interviewer asks:</strong> &quot;Design a system that can handle WhatsApp-scale messaging. How much storage do you need?&quot;</p>
<p><strong>Your first reaction:</strong> &quot;Umm... a lot? Maybe... 100 terabytes? Or is it petabytes? I have no idea! ğŸ˜°&quot;</p>
<p><strong>Pause and think:</strong> How can you go from complete confusion to a reasonable estimate in 2 minutes?</p>
<p><strong>The Answer:</strong> Back of the envelope calculations! These are quick, rough estimates that get you in the right ballpark.</p>
<p><strong>Key Insight:</strong> You don't need exact numbers. Being within 10x is often good enough for design decisions!</p>
<hr>
<h3><strong>ğŸ§® Interactive Exercise: The Napkin Math Foundations</strong></h3>
<p>Before we dive in, let's build your mental toolkit with numbers you should memorize:</p>
<p>ğŸ“ POWERS OF 10 (Your new best friends)</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Thousand    =        1,000 = 10Â³   = 1 KB</p>
<p>Million     =    1,000,000 = 10â¶   = 1 MB</p>
<p>Billion     =1,000,000,000 = 10â¹   = 1 GB</p>
<p>Trillion    =        10Â¹Â²          = 1 TB</p>
<p>â±ï¸ TIME CONVERSIONS</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>1 day       = 86,400 seconds   â‰ˆ 100K seconds (rounded!)</p>
<p>1 month     â‰ˆ 2.5 million seconds</p>
<p>1 year      â‰ˆ 31 million seconds (remember: Ï€ Ã— 10â· seconds!)</p>
<p>ğŸ’¾ DATA SIZES (rough estimates)</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Single character = 1 byte</p>
<p>Short tweet = 280 bytes â‰ˆ 300 bytes</p>
<p>Typical web page = 100 KB</p>
<p>YouTube video (1 min) = 10 MB</p>
<p>High-res photo = 2 MB</p>
<p>Movie (1080p, 2hrs) = 4 GB</p>
<p><strong>Mental Model:</strong> These rounded numbers make math easy! 86,400 seconds/day becomes 100K seconds. Close enough for estimates!</p>
<hr>
<h3><strong>ğŸª Real-World Challenge: Estimating Twitter's Storage</strong></h3>
<p><strong>Scenario:</strong> You're asked: &quot;How much storage does Twitter need per year?&quot;</p>
<p><strong>Step-by-step thinking:</strong></p>
<p>ğŸ¤” STEP 1: Break down the problem</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>What data does Twitter store?</p>
<p>âœ“ Tweets (text)</p>
<p>âœ“ Images</p>
<p>âœ“ Videos</p>
<p>âœ“ User profiles</p>
<p>Let's estimate each!</p>
<p>ğŸ“ STEP 2: Make assumptions (and state them!)</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Daily active users: 200 million</p>
<p>Tweets per user per day: 2</p>
<p>Average tweet size: 300 bytes</p>
<p>20% of tweets have images (2 MB each)</p>
<p>5% of tweets have videos (10 MB each)</p>
<p>ğŸ§® STEP 3: Calculate step by step</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Tweets per day:</p>
<p>200 million users Ã— 2 tweets = 400 million tweets/day</p>
<p>Text storage per day:</p>
<p>400 million tweets Ã— 300 bytes = 120 GB/day</p>
<p>Image storage per day:</p>
<p>400 million tweets Ã— 20% Ã— 2 MB = 160 TB/day</p>
<p>Video storage per day:</p>
<p>400 million tweets Ã— 5% Ã— 10 MB = 200 TB/day</p>
<p>TOTAL per day: 120 GB + 160 TB + 200 TB â‰ˆ 360 TB/day</p>
<p>ğŸ“… STEP 4: Extrapolate to yearly</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>360 TB/day Ã— 365 days â‰ˆ 131 PB/year</p>
<p>Add 20% for replication and backups:
131 PB Ã— 1.2 â‰ˆ 157 PB/year</p>
<p><strong>Final Answer:</strong> &quot;Twitter needs approximately <strong>150-200 petabytes</strong> of storage per year.&quot;</p>
<p><strong>Reality check:</strong> Twitter's actual numbers are in this ballpark! You got it right with just napkin math! ğŸ‰</p>
<hr>
<h3><strong>ğŸš° Problem-Solving Exercise: Netflix Bandwidth</strong></h3>
<p><strong>Challenge:</strong> &quot;How much internet bandwidth does Netflix need?&quot;</p>
<p><strong>Think about it before looking at the solution...</strong></p>
<p>What information do you need?</p>
<ul>
<li>How many people stream at once?</li>
<li>What video quality?</li>
<li>How big is a video stream?</li>
</ul>
<p><strong>Solution walkthrough:</strong></p>
<p>ğŸ“Š ASSUMPTIONS</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Netflix subscribers: 250 million</p>
<p>Concurrent viewers (peak time): 10% = 25 million</p>
<p>Average bitrate (1080p video): 5 Mbps</p>
<p>ğŸ”¢ CALCULATION</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Bandwidth needed:</p>
<p>25 million viewers Ã— 5 Mbps = 125 million Mbps</p>
<p>= 125,000 Gbps</p>
<p>= 125 Tbps (terabits per second)</p>
<p>ğŸ¯ REALITY CHECK</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Netflix actually uses 100-200 Tbps during peak hours!
Our estimate was spot on! ğŸ¯</p>
<p><strong>Mental Model:</strong> Don't aim for perfection. Aim for &quot;right order of magnitude.&quot;</p>
<p>If your answer is:</p>
<ul>
<li>âœ… 100-200 Tbps â†’ Excellent estimate!</li>
<li>âœ… 50-500 Tbps â†’ Good ballpark</li>
<li>âŒ 1 Tbps or 10,000 Tbps â†’ Off by too much</li>
</ul>
<hr>
<h3><strong>ğŸ¯ The 5-Step Formula: Your Estimation Superpower</strong></h3>
<p><strong>Use this every time:</strong></p>
<p>STEP 1: ğŸ¯ CLARIFY &amp; SCOPE</p>
<p>â””â”€ What exactly are we estimating?</p>
<p>â””â”€ What's included? What's excluded?</p>
<p>STEP 2: ğŸ“ STATE ASSUMPTIONS</p>
<p>â””â”€ Number of users</p>
<p>â””â”€ Usage patterns</p>
<p>â””â”€ Data sizes</p>
<p>â””â”€ Write them down!</p>
<p>STEP 3: ğŸ§® CALCULATE IN CHUNKS</p>
<p>â””â”€ Break into smaller pieces</p>
<p>â””â”€ Estimate each piece</p>
<p>â””â”€ Round numbers aggressively</p>
<p>STEP 4: ğŸ“Š SANITY CHECK</p>
<p>â””â”€ Does this make sense?</p>
<p>â””â”€ Compare to known systems</p>
<p>â””â”€ Am I off by 1000x?</p>
<p>STEP 5: ğŸ ADD BUFFERS</p>
<p>â””â”€ 2x for replication</p>
<p>â””â”€ 1.5x for growth</p>
<p>â””â”€ Better to overestimate</p>
<hr>
<h3><strong>ğŸ® Practice Game: Quick Estimates!</strong></h3>
<p><strong>Try these yourself before looking at answers:</strong></p>
<p><strong>Challenge A:</strong> &quot;How many queries per second does Google Search handle?&quot;</p>
<p><strong>Challenge B:</strong> &quot;How much storage for 1 year of Zoom meeting recordings?&quot;</p>
<p><strong>Challenge C:</strong> &quot;How many servers to handle Instagram's image uploads?&quot;</p>
<p><strong>Think through each one...</strong></p>
<hr>
<p><strong>ANSWERS:</strong></p>
<p><strong>Challenge A: Google Search QPS</strong></p>
<p>Assumptions:</p>
<p>- Google users worldwide: 4 billion</p>
<p>- Searches per person per day: 3</p>
<p>- Peak traffic: 2x average</p>
<p>Calculation:</p>
<p>Daily searches: 4B Ã— 3 = 12 billion</p>
<p>Per second: 12B Ã· 100K seconds â‰ˆ 120,000 QPS</p>
<p>Peak: 120K Ã— 2 = 240,000 QPS</p>
<p>Answer: ~200,000-300,000 queries per second</p>
<p>Reality: Google handles ~100,000 QPS average, ~200,000 peak âœ“</p>
<p><strong>Challenge B: Zoom Storage</strong></p>
<p>Assumptions:</p>
<p>- Daily meeting hours: 3 billion minutes</p>
<p>- Video bitrate: 2 Mbps</p>
<p>- Storage with compression: 1 MB/minute</p>
<p>Calculation:</p>
<p>Daily storage: 3B minutes Ã— 1 MB = 3 PB/day</p>
<p>Yearly: 3 PB Ã— 365 = 1,095 PB â‰ˆ 1 exabyte</p>
<p>Answer: ~1 exabyte per year</p>
<p><strong>Challenge C: Instagram Servers</strong></p>
<p>Assumptions:</p>
<p>- Photos uploaded per day: 100 million</p>
<p>- Upload takes 2 seconds per photo</p>
<p>- Server handles 1000 req/sec</p>
<p>Calculation:</p>
<p>Total upload seconds per day:</p>
<p>100M photos Ã— 2 sec = 200M seconds</p>
<p>Servers needed:</p>
<p>200M seconds Ã· 86,400 seconds/day = 2,315 server-days</p>
<p>To handle in 24 hours: 2,315 servers</p>
<p>Add 2x for peak load: ~5,000 servers</p>
<p>Answer: ~5,000 servers for uploads</p>
<hr>
<h3><strong>ğŸ’¡ Common Pitfalls &amp; How to Avoid Them</strong></h3>
<p>âŒ PITFALL 1: Trying to be too precise</p>
<p>â””â”€ &quot;It's exactly 247,394 requests per second&quot;</p>
<p>â””â”€ Fix: Round! &quot;About 250K requests/second&quot;</p>
<p>âŒ PITFALL 2: Forgetting peak vs. average</p>
<p>â””â”€ &quot;We need 10 servers for average load&quot;</p>
<p>â””â”€ Fix: Always plan for 2-3x peak load</p>
<p>âŒ PITFALL 3: Not stating assumptions</p>
<p>â””â”€ Just writing numbers without context</p>
<p>â””â”€ Fix: Always say &quot;Assuming X users...&quot;</p>
<p>âŒ PITFALL 4: Skipping sanity checks</p>
<p>â””â”€ Calculating you need 1 million servers</p>
<p>â””â”€ Fix: &quot;Wait, that's more than Google. Recheck!&quot;</p>
<p>âŒ PITFALL 5: Analysis paralysis</p>
<p>â””â”€ Spending 20 minutes on perfect numbers</p>
<p>â””â”€ Fix: 2-5 minutes max. Rough is good enough!</p>
<hr>
<h3><strong>ğŸ¯ Quick Reference: Estimation Cheat Sheet</strong></h3>
<p>COMMON BENCHMARKS TO REMEMBER</p>
<p>â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</p>
<p>ğŸ“± Typical smartphone:</p>
<p>Storage: 128 GB</p>
<p>RAM: 6 GB</p>
<p>Screen size: 6 inches, 2400Ã—1080</p>
<p>ğŸ’» Typical web server:</p>
<p>Handles: 1000-5000 requests/sec</p>
<p>RAM: 16-64 GB</p>
<p>Disk: 500 GB - 2 TB</p>
<p>ğŸŒ Web page load:</p>
<p>Size: 2 MB average</p>
<p>Time: 2-3 seconds</p>
<p>50-100 HTTP requests</p>
<p>ğŸ“¹ Video streaming:</p>
<p>480p: 1 Mbps</p>
<p>720p: 2.5 Mbps</p>
<p>1080p: 5 Mbps</p>
<p>4K: 25 Mbps</p>
<p>ğŸ‘¥ Social media usage:</p>
<p>Average user posts: 1-2 per day</p>
<p>Average user views: 100-200 items/day</p>
<p>Active time: 30-60 minutes/day</p>
<p>ğŸ—„ï¸ Database queries:</p>
<p>Simple SELECT: 1 ms</p>
<p>JOIN query: 10-100 ms</p>
<p>Full table scan: seconds to minutes</p>
<hr>
<h3><strong>ğŸª The Grand Finale: Complex Estimation</strong></h3>
<p><strong>Ultimate Challenge:</strong> &quot;Design YouTube's infrastructure. Estimate everything.&quot;</p>
<p><strong>Your approach:</strong></p>
<p>ğŸ¯ SCOPE</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>What to estimate:</p>
<p>âœ“ Storage (videos)</p>
<p>âœ“ Bandwidth (uploads + downloads)</p>
<p>âœ“ Servers (processing)</p>
<p>âœ“ Database (metadata)</p>
<p>ğŸ“ ASSUMPTIONS</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Daily active users: 2 billion</p>
<p>Videos watched per user: 10</p>
<p>Average video: 5 minutes, 1080p</p>
<p>Upload/watch ratio: 1:1000</p>
<p>New videos per day: 500,000</p>
<p>ğŸ’¾ STORAGE CALCULATION</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Video size: 5 min Ã— 5 Mbps Ã· 8 = 3.75 MB/sec Ã— 300 sec = 1.1 GB</p>
<p>New storage per day:</p>
<p>500K videos Ã— 1.1 GB = 550 TB/day</p>
<p>Yearly growth: 550 TB Ã— 365 = 200 PB/year</p>
<p>ğŸŒ BANDWIDTH CALCULATION</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Views per day: 2B users Ã— 10 videos = 20B views</p>
<p>Data downloaded per day:</p>
<p>20B Ã— 1.1 GB = 22,000 PB = 22 EB/day</p>
<p>Per second: 22 EB Ã· 100K sec = 220 TB/sec = 1,760 Tbps</p>
<p>âš™ï¸ SERVER CALCULATION</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Video encoding:</p>
<p>500K videos/day need transcoding</p>
<p>Each video takes 10 minutes to encode</p>
<p>One server encodes 144 videos/day (24 hrs)</p>
<p>Servers needed: 500K Ã· 144 = 3,500 encoding servers</p>
<p>ğŸ¯ FINAL ANSWER</p>
<p>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p>Storage: 200 PB new per year (+ historical data)</p>
<p>Bandwidth: ~2,000 Tbps (petabits per second!)</p>
<p>Encoding servers: ~4,000</p>
<p>Streaming servers: ~50,000 (estimated separately)</p>
<p>Reality: YouTube stores ~1 exabyte total, uses ~1,000 Tbps</p>
<p>Our estimates are in the right ballpark! ğŸ‰</p>
</body>
    </html>